@page "/ConsultaDeClientes"
@inject ClientesBLL clientesBLL
@rendermode InteractiveServer

<div class="container">
    <div class="row">
        <div class="col-md-6">
            <label>Filtrar por ClienteID:</label>
            <div class="input-group">
                <InputNumber @bind-Value="filtro" class="form-control"></InputNumber>
                <div class="input-group-append">
                    <button type="button" class="btn btn-primary bi bi-search" @onclick="Buscar">Buscar</button>
                    <button type="button" class="btn btn-primary bi bi-arrow-clockwise" @onclick="Nuevo"></button>
                </div>
               
            </div>
            

        </div>
    </div>

    <div class="table-responsive mt-3">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>ClienteID</th>
                    <th>Email</th>
                    <th>Nombres</th>
                    <th>Celular</th>
                    <th>Telefono</th>
                    <th>Direccion</th>
                    <th>Rnc</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var herramienta in Lista_De_Clientes)
                {
                    <tr>
                        <td><a href="RegistroDeClientes/@herramienta.ClienteId">@herramienta.ClienteId</a></td>
                        <td>@herramienta.Email</td>
                        <td>@herramienta.Nombres</td>
                        <td>@herramienta.Celular</td>
                        <td>@herramienta.Telefono</td>
                        <td>@herramienta.Direccion</td>
                        <td>@herramienta.Rnc</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@code {
    public Clientes cliente { get; set; } = new Clientes();
    public int filtro { get; set; }
    public List<Clientes> Lista_De_Clientes { get; set; } = new List<Clientes>();
    public bool Encontrado { get; set; } = false;

    public void Buscar()
    {
        Lista_De_Clientes = clientesBLL.Listar(lc => lc.ClienteId == filtro);
        if (Lista_De_Clientes.Count == 0)
        {
            Encontrado = true;
        }
        else
        {
            Encontrado = false;
        }
    }

    public void Nuevo()
    {
        Lista_De_Clientes = clientesBLL.Listar(lc => true);
    }
}